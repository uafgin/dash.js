{"version":3,"sources":["../../../../src/core/Utils.js"],"names":["Utils","dest","source","copy","s","empty","name","hasOwnProperty","mixin","src","r","Array","i","l","length","push","clone","url","params","modifiedUrl","URL","forEach","param","key","value","searchParams","set","href","e","headerStr","headers","headerPairs","trim","split","ilen","headerPair","index","indexOf","substring","dt","Date","getTime","uuid","replace","c","Math","random","floor","toString","string","hash","chr","charCodeAt"],"mappings":"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","file":"Utils.js","sourcesContent":["/**\r\n * The copyright in this software is being made available under the BSD License,\r\n * included below. This software may be subject to other third party and contributor\r\n * rights, including patent rights, and no such rights are granted under this license.\r\n *\r\n * Copyright (c) 2013, Dash Industry Forum.\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without modification,\r\n * are permitted provided that the following conditions are met:\r\n *  * Redistributions of source code must retain the above copyright notice, this\r\n *  list of conditions and the following disclaimer.\r\n *  * Redistributions in binary form must reproduce the above copyright notice,\r\n *  this list of conditions and the following disclaimer in the documentation and/or\r\n *  other materials provided with the distribution.\r\n *  * Neither the name of Dash Industry Forum nor the names of its\r\n *  contributors may be used to endorse or promote products derived from this software\r\n *  without specific prior written permission.\r\n *\r\n *  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS AS IS AND ANY\r\n *  EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\r\n *  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.\r\n *  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,\r\n *  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT\r\n *  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\r\n *  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\r\n *  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n *  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n *  POSSIBILITY OF SUCH DAMAGE.\r\n */\r\n\r\n/**\r\n * @class\r\n * @ignore\r\n */\r\n\r\nclass Utils {\r\n    static mixin(dest, source, copy) {\r\n        let s;\r\n        let empty = {};\r\n        if (dest) {\r\n            for (let name in source) {\r\n                if (source.hasOwnProperty(name)) {\r\n                    s = source[name];\r\n                    if (!(name in dest) || (dest[name] !== s && (!(name in empty) || empty[name] !== s))) {\r\n                        if (typeof dest[name] === 'object' && dest[name] !== null) {\r\n                            dest[name] = Utils.mixin(dest[name], s, copy);\r\n                        } else {\r\n                            dest[name] = copy(s);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return dest;\r\n    }\r\n\r\n    static clone(src) {\r\n        if (!src || typeof src !== 'object') {\r\n            return src; // anything\r\n        }\r\n        let r;\r\n        if (src instanceof Array) {\r\n            // array\r\n            r = [];\r\n            for (let i = 0, l = src.length; i < l; ++i) {\r\n                if (i in src) {\r\n                    r.push(Utils.clone(src[i]));\r\n                }\r\n            }\r\n        } else {\r\n            r = {};\r\n        }\r\n        return Utils.mixin(r, src, Utils.clone);\r\n    }\r\n\r\n    static addAditionalQueryParameterToUrl(url, params) {\r\n        try {\r\n            if (!params || params.length === 0) {\r\n                return url;\r\n            }\r\n\r\n            let modifiedUrl = new URL(url);\r\n\r\n            params.forEach((param) => {\r\n                if (param.key && param.value) {\r\n                    modifiedUrl.searchParams.set(param.key, param.value);\r\n                }\r\n            });\r\n\r\n            return modifiedUrl.href;\r\n\r\n\r\n        } catch (e) {\r\n            return url;\r\n        }\r\n    }\r\n\r\n    static parseHttpHeaders (headerStr) {\r\n        let headers = {};\r\n        if (!headerStr) {\r\n            return headers;\r\n        }\r\n\r\n        // Trim headerStr to fix a MS Edge bug with xhr.getAllResponseHeaders method\r\n        // which send a string starting with a \"\\n\" character\r\n        let headerPairs = headerStr.trim().split('\\u000d\\u000a');\r\n        for (let i = 0, ilen = headerPairs.length; i < ilen; i++) {\r\n            let headerPair = headerPairs[i];\r\n            let index = headerPair.indexOf('\\u003a\\u0020');\r\n            if (index > 0) {\r\n                headers[headerPair.substring(0, index)] = headerPair.substring(index + 2);\r\n            }\r\n        }\r\n        return headers;\r\n    }\r\n\r\n    static generateUuid() {\r\n        let dt = new Date().getTime();\r\n        const uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n            const r = (dt + Math.random() * 16) % 16 | 0;\r\n            dt = Math.floor(dt / 16);\r\n            return (c == 'x' ? r : (r & 0x3 | 0x8)).toString(16);\r\n        });\r\n        return uuid;\r\n    }\r\n\r\n    static generateHashCode(string) {\r\n        let hash = 0;\r\n\r\n        if (string.length === 0) {\r\n            return hash;\r\n        }\r\n\r\n        for (let i = 0; i < string.length; i++) {\r\n            const chr = string.charCodeAt(i);\r\n            hash = ((hash << 5) - hash) + chr;\r\n            hash |= 0;\r\n        }\r\n        return hash;\r\n    }\r\n}\r\n\r\nexport default Utils;\r\n"]}